---
{"dg-publish":true,"permalink":"/学习记录/docker/离线镜像处理/"}
---

### 1. 背景：

内网环境没法 pull 镜像，但是 docker 本身可以将已有的镜像导出成 tar 文件，并且可以再次导入到 docker，利用这一点，可以实现离线镜像文件的下载。

### 2. Save

找一个联网的环境，pull 需要的镜像，使用如下命令将镜像文件导出

```
#将java 8的镜像导出成tar文件 docker sava 镜像:tag -o xxx.tar
docker save java:8 -o java.tar
```

java.tar 会在命令执行的当前目录
可以压缩下方便传输

```
tar czvf java.tar.gz java.tar
```

### 3. Load

解压缩：

```sh
tar xzvf java.tar.gz java.tar
```

内网 docker 上传并导入镜像

```
docker load -i java.tar
```
